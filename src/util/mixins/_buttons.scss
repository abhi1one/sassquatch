/**
* Button factory mixins
* ------------------------------------------
*/

$buttonFont: "Whitney SSm A", "Whitney SSm B", sans-serif; // TODO: read from UI/heading font defined in vars file
$borderOffset: 75%;

%_button_base {
	@include round(3px);
	font-family: $buttonFont;
	font-size: 15px;
	font-weight: 600;
	text-decoration: none !important;
	-webkit-tap-highlight-color: transparent;
}

/**
* Default button
*
* @param $bgColor - background color
* @param $textColor - text color (calculated from bgColor if unspecified)
* -----------------------------------------------
*/
@mixin button( $bgColor: $C_tertiaryGray, $textColor: "" ) {

	@if $textColor == "" {
		@if isDark( $bgColor ) {
			$textColor: getContrastTextColor($bgColor);
		} @else {
			$textColor: getContrastingOffset($bgColor);
		}
	}
	@extend %_button_base;
	@include box-shadow(0px, 2px, 0px, darken($bgColor, $borderOffset));
	padding: 9px 18px;
	color: $textColor !important; // need this for chapstick
	background: $bgColor;

	&:active {
		@include box-shadow(0px, 0px, 0px, darken($bgColor, $borderOffset));
		@include transform(translate(0px, 2px));
	}

	&:hover {
		background:  darken($bgColor, 2%);
	}
}



/**
* Flat button
* @param $color - single border/text/hover color
* -----------------------------------------------
*/
@mixin button-flat( $color ) {
	@extend %_button_base;
	@include transition(all .1s ease-in-out);
	@include box-sizing("border");
	color: $color !important;
	background: transparent;
	border: 2px solid $color;
	padding: 6px 15px;

	&:hover {
		background: $color;
		color: getContrastTextColor($color) !important;
	}
}
